<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module Thor::Actions - thor-0.14.6 Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/thor/actions/empty_directory.rb
    <li>lib/thor/actions/create_file.rb
    <li>lib/thor/actions/directory.rb
    <li>lib/thor/actions/file_manipulation.rb
    <li>lib/thor/actions/inject_into_file.rb
    <li>lib/thor/actions/create_link.rb
    <li>lib/thor/actions.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-add_file">#add_file</a>
    
    <li><a href="#method-i-add_link">#add_link</a>
    
    <li><a href="#method-i-append_file">#append_file</a>
    
    <li><a href="#method-i-append_to_file">#append_to_file</a>
    
    <li><a href="#method-i-apply">#apply</a>
    
    <li><a href="#method-i-chmod">#chmod</a>
    
    <li><a href="#method-i-copy_file">#copy_file</a>
    
    <li><a href="#method-i-create_file">#create_file</a>
    
    <li><a href="#method-i-create_link">#create_link</a>
    
    <li><a href="#method-i-destination_root">#destination_root</a>
    
    <li><a href="#method-i-destination_root-3D">#destination_root=</a>
    
    <li><a href="#method-i-directory">#directory</a>
    
    <li><a href="#method-i-empty_directory">#empty_directory</a>
    
    <li><a href="#method-i-find_in_source_paths">#find_in_source_paths</a>
    
    <li><a href="#method-i-get">#get</a>
    
    <li><a href="#method-i-gsub_file">#gsub_file</a>
    
    <li><a href="#method-i-in_root">#in_root</a>
    
    <li><a href="#method-i-inject_into_class">#inject_into_class</a>
    
    <li><a href="#method-i-inject_into_file">#inject_into_file</a>
    
    <li><a href="#method-i-insert_into_file">#insert_into_file</a>
    
    <li><a href="#method-i-inside">#inside</a>
    
    <li><a href="#method-i-link_file">#link_file</a>
    
    <li><a href="#method-i-prepend_file">#prepend_file</a>
    
    <li><a href="#method-i-prepend_to_file">#prepend_to_file</a>
    
    <li><a href="#method-i-relative_to_original_destination_root">#relative_to_original_destination_root</a>
    
    <li><a href="#method-i-remove_dir">#remove_dir</a>
    
    <li><a href="#method-i-remove_file">#remove_file</a>
    
    <li><a href="#method-i-run">#run</a>
    
    <li><a href="#method-i-run_ruby_script">#run_ruby_script</a>
    
    <li><a href="#method-i-source_paths">#source_paths</a>
    
    <li><a href="#method-i-template">#template</a>
    
    <li><a href="#method-i-thor">#thor</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../CHANGELOG_rdoc.html">CHANGELOG</a>
  
    <li class="file"><a href="../LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../Thorfile.html">Thorfile</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Thor.html">Thor</a>
  
    <li><a href="../Thor/Actions.html">Thor::Actions</a>
  
    <li><a href="../Thor/Actions/ClassMethods.html">Thor::Actions::ClassMethods</a>
  
    <li><a href="../Thor/Base.html">Thor::Base</a>
  
    <li><a href="../Thor/Base/ClassMethods.html">Thor::Base::ClassMethods</a>
  
    <li><a href="../Thor/DynamicTask.html">Thor::DynamicTask</a>
  
    <li><a href="../Thor/Error.html">Thor::Error</a>
  
    <li><a href="../Thor/Group.html">Thor::Group</a>
  
    <li><a href="../Thor/HiddenTask.html">Thor::HiddenTask</a>
  
    <li><a href="../Thor/Invocation.html">Thor::Invocation</a>
  
    <li><a href="../Thor/Invocation/ClassMethods.html">Thor::Invocation::ClassMethods</a>
  
    <li><a href="../Thor/InvocationError.html">Thor::InvocationError</a>
  
    <li><a href="../Thor/MalformattedArgumentError.html">Thor::MalformattedArgumentError</a>
  
    <li><a href="../Thor/RakeCompat.html">Thor::RakeCompat</a>
  
    <li><a href="../Thor/RequiredArgumentMissingError.html">Thor::RequiredArgumentMissingError</a>
  
    <li><a href="../Thor/Shell.html">Thor::Shell</a>
  
    <li><a href="../Thor/Shell/Basic.html">Thor::Shell::Basic</a>
  
    <li><a href="../Thor/Shell/Color.html">Thor::Shell::Color</a>
  
    <li><a href="../Thor/Shell/HTML.html">Thor::Shell::HTML</a>
  
    <li><a href="../Thor/Task.html">Thor::Task</a>
  
    <li><a href="../Thor/UndefinedTaskError.html">Thor::UndefinedTaskError</a>
  
    <li><a href="../Thor/UnknownArgumentError.html">Thor::UnknownArgumentError</a>
  
    <li><a href="../Thor/Util.html">Thor::Util</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module Thor::Actions</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-behavior" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">behavior</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(args=[], options={}, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Extends initializer to add more configuration options.</p>

<h4 id="method-c-new-label-Configuration">Configuration</h4>
<dl class="rdoc-list note-list"><dt>behavior&lt;Symbol&gt;
<dd>
<p>The actions default behavior. Can be :invoke or :revoke. It also accepts
:force, :skip and :pretend to set the behavior and the respective option.</p>
</dd><dt><a href="Actions.html#method-i-destination_root">#destination_root</a>&lt;String&gt;
<dd>
<p>The root directory needed for some actions.</p>
</dd></dl>
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">args</span>=[], <span class="ruby-identifier">options</span>={}, <span class="ruby-identifier">config</span>={})
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">behavior</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">config</span>[<span class="ruby-value">:behavior</span>].<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;force&quot;</span>, <span class="ruby-string">&quot;skip&quot;</span>
      <span class="ruby-identifier">_cleanup_options_and_set</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">config</span>[<span class="ruby-value">:behavior</span>])
      <span class="ruby-value">:invoke</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;revoke&quot;</span>
      <span class="ruby-value">:revoke</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-value">:invoke</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">destination_root</span> = <span class="ruby-identifier">config</span>[<span class="ruby-value">:destination_root</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-add_file" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">add_file</span><span
            class="method-args">(destination, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Actions.html#method-i-create_file">create_file</a>
        </div>
        
      </div><!-- add_file-method -->

    
      <div id="method-i-add_link" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">add_link</span><span
            class="method-args">(destination, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Actions.html#method-i-create_link">create_link</a>
        </div>
        
      </div><!-- add_link-method -->

    
      <div id="method-i-append_file" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">append_file</span><span
            class="method-args">(path, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Actions.html#method-i-append_to_file">append_to_file</a>
        </div>
        
      </div><!-- append_file-method -->

    
      <div id="method-i-append_to_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">append_to_file</span><span
            class="method-args">(path, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Append text to a file. Since it depends on <a
href="Actions.html#method-i-insert_into_file">#insert_into_file</a>, it’s
reversible.</p>

<h4 id="method-i-append_to_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>data&lt;String&gt;
<dd>
<p>the data to append to the file, can be also given as a block.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-append_to_file-label-Example">Example</h4>

<pre>append_to_file 'config/environments/test.rb', 'config.gem &quot;rspec&quot;'

append_to_file 'config/environments/test.rb' do
  'config.gem &quot;rspec&quot;'
end</pre>
          

          
          <div class="method-source-code" id="append_to_file-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/file_manipulation.rb, line 172</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">append_to_file</span>(<span class="ruby-identifier">path</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:before</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r\z/</span>)
  <span class="ruby-identifier">insert_into_file</span>(<span class="ruby-identifier">path</span>, *(<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">config</span>), &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- append_to_file-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Actions.html#method-i-append_file">append_file</a>
        </div>
        

        
      </div><!-- append_to_file-method -->

    
      <div id="method-i-apply" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">apply</span><span
            class="method-args">(path, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Loads an external file and execute it in the instance binding.</p>

<h4 id="method-i-apply-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>The path to the file to execute. Can be a web address or a relative path
from the source root.</p>
</dd></dl>

<h4 id="method-i-apply-label-Examples">Examples</h4>

<pre>apply &quot;http://gist.github.com/103208&quot;

apply &quot;recipes/jquery.rb&quot;</pre>
          

          
          <div class="method-source-code" id="apply-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 203</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">apply</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">config</span>={})
  <span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">is_uri</span>  = <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r^https?\:\/\//</span>
  <span class="ruby-identifier">path</span>    = <span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">path</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">is_uri</span>

  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:apply</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">verbose</span>
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">padding</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">is_uri</span>
    <span class="ruby-identifier">contents</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">&quot;Accept&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;application/x-thor-template&quot;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span> <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">contents</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span> <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span> }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">instance_eval</span>(<span class="ruby-identifier">contents</span>, <span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">padding</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- apply-source -->
          
        </div>

        

        
      </div><!-- apply-method -->

    
      <div id="method-i-chmod" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">chmod</span><span
            class="method-args">(path, mode, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Changes the mode of the given file or directory.</p>

<h4 id="method-i-chmod-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>mode&lt;Integer&gt;
<dd>
<p>the file mode</p>
</dd><dt>path&lt;String&gt;
<dd>
<p>the name of the file to change mode</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-chmod-label-Example">Example</h4>

<pre>chmod &quot;script/*&quot;, 0755</pre>
          

          
          <div class="method-source-code" id="chmod-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/file_manipulation.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">chmod</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-identifier">config</span>={})
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-value">:invoke</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">destination_root</span>)
  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:chmod</span>, <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">path</span>), <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">chmod_R</span>(<span class="ruby-identifier">mode</span>, <span class="ruby-identifier">path</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:pretend</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- chmod-source -->
          
        </div>

        

        
      </div><!-- chmod-method -->

    
      <div id="method-i-copy_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">copy_file</span><span
            class="method-args">(source, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Copies the file from the relative source to the relative destination. If
the destination is not given it’s assumed to be equal to the source.</p>

<h4 id="method-i-copy_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>source&lt;String&gt;
<dd>
<p>the relative path to the source root.</p>
</dd><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-copy_file-label-Examples">Examples</h4>

<pre>copy_file &quot;README&quot;, &quot;doc/README&quot;

copy_file &quot;doc/README&quot;</pre>
          

          
          <div class="method-source-code" id="copy_file-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/file_manipulation.rb, line 21</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">copy_file</span>(<span class="ruby-identifier">source</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">source</span>
  <span class="ruby-identifier">source</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">source</span>.<span class="ruby-identifier">to_s</span>))

  <span class="ruby-identifier">create_file</span> <span class="ruby-identifier">destination</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">config</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">content</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">binread</span>(<span class="ruby-identifier">source</span>)
    <span class="ruby-identifier">content</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">content</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
    <span class="ruby-identifier">content</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- copy_file-source -->
          
        </div>

        

        
      </div><!-- copy_file-method -->

    
      <div id="method-i-create_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_file</span><span
            class="method-args">(destination, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Create a new file relative to the destination root with the given data,
which is the return value of a block or a data string.</p>

<h4 id="method-i-create_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>data&lt;String|NilClass&gt;
<dd>
<p>the data to append to the file.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-create_file-label-Examples">Examples</h4>

<pre>create_file &quot;lib/fun_party.rb&quot; do
  hostname = ask(&quot;What is the virtual hostname I should use?&quot;)
  &quot;vhost.name = #{hostname}&quot;
end

create_file &quot;config/apache.conf&quot;, &quot;your apache config&quot;</pre>
          

          
          <div class="method-source-code" id="create_file-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/create_file.rb, line 23</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_file</span>(<span class="ruby-identifier">destination</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">action</span> <span class="ruby-constant">CreateFile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">block</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">config</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- create_file-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Actions.html#method-i-add_file">add_file</a>
        </div>
        

        
      </div><!-- create_file-method -->

    
      <div id="method-i-create_link" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_link</span><span
            class="method-args">(destination, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Create a new file relative to the destination root from the given source.</p>

<h4 id="method-i-create_link-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>source&lt;String|NilClass&gt;
<dd>
<p>the relative path to the source root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd><dt>
<dd>
<p>give :symbolic =&gt; false for hard link.</p>
</dd></dl>

<h4 id="method-i-create_link-label-Examples">Examples</h4>

<pre>create_link &quot;config/apache.conf&quot;, &quot;/etc/apache.conf&quot;</pre>
          

          
          <div class="method-source-code" id="create_link-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/create_link.rb, line 18</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_link</span>(<span class="ruby-identifier">destination</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">source</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-identifier">action</span> <span class="ruby-constant">CreateLink</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">config</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- create_link-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Actions.html#method-i-add_link">add_link</a>
        </div>
        

        
      </div><!-- create_link-method -->

    
      <div id="method-i-destination_root" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">destination_root</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the root for this thor class (also aliased as destination root).</p>
          

          
          <div class="method-source-code" id="destination_root-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 101</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destination_root</span>
  <span class="ruby-ivar">@destination_stack</span>.<span class="ruby-identifier">last</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- destination_root-source -->
          
        </div>

        

        
      </div><!-- destination_root-method -->

    
      <div id="method-i-destination_root-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">destination_root=</span><span
            class="method-args">(root)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Sets the root for this thor class. Relatives path are added to the
directory where the script was invoked and expanded.</p>
          

          
          <div class="method-source-code" id="destination_root-3D-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destination_root=</span>(<span class="ruby-identifier">root</span>)
  <span class="ruby-ivar">@destination_stack</span> <span class="ruby-operator">||=</span> []
  <span class="ruby-ivar">@destination_stack</span>[<span class="ruby-value">0</span>] = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">root</span> <span class="ruby-operator">||</span> <span class="ruby-string">''</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- destination_root-3D-source -->
          
        </div>

        

        
      </div><!-- destination_root-3D-method -->

    
      <div id="method-i-directory" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">directory</span><span
            class="method-args">(source, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Copies recursively the files from source directory to root directory. If
any of the files finishes with .tt, it’s considered to be a template and is
placed in the destination without the extension .tt. If any empty directory
is found, it’s copied and all .<a
href="Actions.html#method-i-empty_directory">#empty_directory</a> files are
ignored. Remember that file paths can also be encoded, let’s suppose a doc
directory with the following files:</p>

<pre>doc/
  components/.empty_directory
  README
  rdoc.rb.tt
  %app_name%.rb</pre>

<p>When invoked as:</p>

<pre>directory &quot;doc&quot;</pre>

<p>It will create a doc directory in the destination with the following files
(assuming that the `app_name` method returns the value “blog”):</p>

<pre>doc/
  components/
  README
  rdoc.rb
  blog.rb</pre>

<h4 id="method-i-directory-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>source&lt;String&gt;
<dd>
<p>the relative path to the source root.</p>
</dd><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status. If :recursive =&gt; false,
does not look for paths recursively.</p>
</dd></dl>

<h4 id="method-i-directory-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">directory</span> <span class="ruby-string">&quot;doc&quot;</span>
<span class="ruby-identifier">directory</span> <span class="ruby-string">&quot;doc&quot;</span>, <span class="ruby-string">&quot;docs&quot;</span>, :<span class="ruby-identifier">recursive</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
</pre>
          

          
          <div class="method-source-code" id="directory-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/directory.rb, line 43</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">directory</span>(<span class="ruby-identifier">source</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">source</span>
  <span class="ruby-identifier">action</span> <span class="ruby-constant">Directory</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">destination</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">source</span>, <span class="ruby-identifier">config</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- directory-source -->
          
        </div>

        

        
      </div><!-- directory-method -->

    
      <div id="method-i-empty_directory" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">empty_directory</span><span
            class="method-args">(destination, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Creates an empty directory.</p>

<h4 id="method-i-empty_directory-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-empty_directory-label-Examples">Examples</h4>

<pre>empty_directory &quot;doc&quot;</pre>
          

          
          <div class="method-source-code" id="empty_directory-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/empty_directory.rb, line 14</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">empty_directory</span>(<span class="ruby-identifier">destination</span>, <span class="ruby-identifier">config</span>={})
  <span class="ruby-identifier">action</span> <span class="ruby-constant">EmptyDirectory</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">config</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- empty_directory-source -->
          
        </div>

        

        
      </div><!-- empty_directory-method -->

    
      <div id="method-i-find_in_source_paths" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_in_source_paths</span><span
            class="method-args">(file)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Receives a file or directory and search for it in the source paths.</p>
          

          
          <div class="method-source-code" id="find_in_source_paths-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 129</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-identifier">relative_root</span> = <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">destination_root</span>, <span class="ruby-keyword">false</span>)

  <span class="ruby-identifier">source_paths</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">source_file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">file</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">relative_root</span>))
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">source_file</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">source_file</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">message</span> = <span class="ruby-node">&quot;Could not find #{file.inspect} in any of your source paths. &quot;</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">source_root</span>
    <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;Please invoke #{self.class.name}.source_root(PATH) with the PATH containing your templates. &quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">source_paths</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;Currently you have no source paths.&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;Your current source paths are: \n#{source_paths.join(&quot;\n&quot;)}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-identifier">message</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- find_in_source_paths-source -->
          
        </div>

        

        
      </div><!-- find_in_source_paths-method -->

    
      <div id="method-i-get" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get</span><span
            class="method-args">(source, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Gets the content at the given address and places it at the given relative
destination. If a block is given instead of destination, the content of the
url is yielded and used as location.</p>

<h4 id="method-i-get-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>source&lt;String&gt;
<dd>
<p>the address of the given content.</p>
</dd><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-get-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&quot;http://gist.github.com/103208&quot;</span>, <span class="ruby-string">&quot;doc/README&quot;</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&quot;http://gist.github.com/103208&quot;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">content</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">content</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span>
</pre>
          

          
          <div class="method-source-code" id="get-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/file_manipulation.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">source</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>

  <span class="ruby-identifier">source</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">source</span>.<span class="ruby-identifier">to_s</span>)) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">source</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r^https?\:\/\//</span>
  <span class="ruby-identifier">render</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">source</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">input</span><span class="ruby-operator">|</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">binmode</span>.<span class="ruby-identifier">read</span> }

  <span class="ruby-identifier">destination</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">render</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">source</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">create_file</span> <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">render</span>, <span class="ruby-identifier">config</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get-source -->
          
        </div>

        

        
      </div><!-- get-method -->

    
      <div id="method-i-gsub_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">gsub_file</span><span
            class="method-args">(path, flag, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Run a regular expression replacement on a file.</p>

<h4 id="method-i-gsub_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>flag&lt;Regexp|String&gt;
<dd>
<p>the regexp or string to be replaced</p>
</dd><dt>replacement&lt;String&gt;
<dd>
<p>the replacement, can be also given as a block</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-gsub_file-label-Example">Example</h4>

<pre class="ruby"><span class="ruby-identifier">gsub_file</span> <span class="ruby-string">'app/controllers/application_controller.rb'</span>, <span class="ruby-node">%r#\s*(filter_parameter_logging :password)/</span>, <span class="ruby-string">'\1'</span>

<span class="ruby-identifier">gsub_file</span> <span class="ruby-string">'README'</span>, <span class="ruby-regexp">%rrake/</span>, :<span class="ruby-identifier">green</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">match</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">match</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; no more. Use thor!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
          

          
          <div class="method-source-code" id="gsub_file-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/file_manipulation.rb, line 218</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">gsub_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">flag</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-value">:invoke</span>
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}

  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">destination_root</span>)
  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:gsub</span>, <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">path</span>), <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:pretend</span>]
    <span class="ruby-identifier">content</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">binread</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">content</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-identifier">flag</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">'wb'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">content</span>) }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- gsub_file-source -->
          
        </div>

        

        
      </div><!-- gsub_file-method -->

    
      <div id="method-i-in_root" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">in_root</span><span
            class="method-args">() { || ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Goes to the root and execute the given block.</p>
          

          
          <div class="method-source-code" id="in_root-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 187</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">in_root</span>
  <span class="ruby-identifier">inside</span>(<span class="ruby-ivar">@destination_stack</span>.<span class="ruby-identifier">first</span>) { <span class="ruby-keyword">yield</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- in_root-source -->
          
        </div>

        

        
      </div><!-- in_root-method -->

    
      <div id="method-i-inject_into_class" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">inject_into_class</span><span
            class="method-args">(path, klass, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Injects text right after the class definition. Since it depends on <a
href="Actions.html#method-i-insert_into_file">#insert_into_file</a>, it’s
reversible.</p>

<h4 id="method-i-inject_into_class-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>klass&lt;String|Class&gt;
<dd>
<p>the class to be manipulated</p>
</dd><dt>data&lt;String&gt;
<dd>
<p>the data to append to the class, can be also given as a block.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-inject_into_class-label-Examples">Examples</h4>

<pre>inject_into_class &quot;app/controllers/application_controller.rb&quot;, &quot;  filter_parameter :password\n&quot;

inject_into_class &quot;app/controllers/application_controller.rb&quot;, ApplicationController do
  &quot;  filter_parameter :password\n&quot;
end</pre>
          

          
          <div class="method-source-code" id="inject_into_class-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/file_manipulation.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inject_into_class</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">klass</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%rclass #{klass}\n|class #{klass} .*\n/</span>)
  <span class="ruby-identifier">insert_into_file</span>(<span class="ruby-identifier">path</span>, *(<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">config</span>), &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- inject_into_class-source -->
          
        </div>

        

        
      </div><!-- inject_into_class-method -->

    
      <div id="method-i-inject_into_file" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">inject_into_file</span><span
            class="method-args">(destination, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Actions.html#method-i-insert_into_file">insert_into_file</a>
        </div>
        
      </div><!-- inject_into_file-method -->

    
      <div id="method-i-insert_into_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">insert_into_file</span><span
            class="method-args">(destination, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Injects the given content into a file. Different from <a
href="Actions.html#method-i-gsub_file">#gsub_file</a>, this method is
reversible.</p>

<h4 id="method-i-insert_into_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>destination&lt;String&gt;
<dd>
<p>Relative path to the destination root</p>
</dd><dt>data&lt;String&gt;
<dd>
<p>Data to add to the file. Can be given as a block.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status and the flag for injection
(:after or :before) or :force =&gt; true for insert two or more times the
same content.</p>
</dd></dl>

<h4 id="method-i-insert_into_file-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">insert_into_file</span> <span class="ruby-string">&quot;config/environment.rb&quot;</span>, <span class="ruby-string">&quot;config.gem :thor&quot;</span>, :<span class="ruby-identifier">after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Rails::Initializer.run do |config|\n&quot;</span>

<span class="ruby-identifier">insert_into_file</span> <span class="ruby-string">&quot;config/environment.rb&quot;</span>, :<span class="ruby-identifier">after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Rails::Initializer.run do |config|\n&quot;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">gems</span> = <span class="ruby-identifier">ask</span> <span class="ruby-string">&quot;Which gems would you like to add?&quot;</span>
  <span class="ruby-identifier">gems</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot; &quot;</span>).<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">gem</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;  config.gem :#{gem}&quot;</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
<span class="ruby-keyword">end</span>
</pre>
          

          
          <div class="method-source-code" id="insert_into_file-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/inject_into_file.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">insert_into_file</span>(<span class="ruby-identifier">destination</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">data</span>, <span class="ruby-identifier">config</span> = <span class="ruby-identifier">block</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">data</span>, <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">action</span> <span class="ruby-constant">InjectIntoFile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">config</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- insert_into_file-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Actions.html#method-i-inject_into_file">inject_into_file</a>
        </div>
        

        
      </div><!-- insert_into_file-method -->

    
      <div id="method-i-inside" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">inside</span><span
            class="method-args">(dir='', config={}) { |destination_root| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Do something in the root or on a provided subfolder. If a relative path is
given it’s referenced from the current root. The full path is yielded to
the block you provide. The path is set back to the previous path when the
method exits.</p>

<h4 id="method-i-inside-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>dir&lt;String&gt;
<dd>
<p>the directory to move to.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; true to log and use padding.</p>
</dd></dl>
          

          
          <div class="method-source-code" id="inside-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inside</span>(<span class="ruby-identifier">dir</span>=<span class="ruby-string">''</span>, <span class="ruby-identifier">config</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">pretend</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:pretend</span>]

  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:inside</span>, <span class="ruby-identifier">dir</span>, <span class="ruby-identifier">verbose</span>
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">padding</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
  <span class="ruby-ivar">@destination_stack</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">destination_root</span>)

  <span class="ruby-comment"># If the directory doesnt exist and we're not pretending</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">destination_root</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">pretend</span>
    <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span>(<span class="ruby-identifier">destination_root</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">pretend</span>
    <span class="ruby-comment"># In pretend mode, just yield down to the block</span>
    <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">destination_root</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">cd</span>(<span class="ruby-identifier">destination_root</span>) { <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">destination_root</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">yield</span> }
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@destination_stack</span>.<span class="ruby-identifier">pop</span>
  <span class="ruby-identifier">shell</span>.<span class="ruby-identifier">padding</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- inside-source -->
          
        </div>

        

        
      </div><!-- inside-method -->

    
      <div id="method-i-link_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link_file</span><span
            class="method-args">(source, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Links the file from the relative source to the relative destination. If the
destination is not given it’s assumed to be equal to the source.</p>

<h4 id="method-i-link_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>source&lt;String&gt;
<dd>
<p>the relative path to the source root.</p>
</dd><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-link_file-label-Examples">Examples</h4>

<pre>link_file &quot;README&quot;, &quot;doc/README&quot;

link_file &quot;doc/README&quot;</pre>
          

          
          <div class="method-source-code" id="link_file-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/file_manipulation.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_file</span>(<span class="ruby-identifier">source</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">source</span>
  <span class="ruby-identifier">source</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">source</span>.<span class="ruby-identifier">to_s</span>))

  <span class="ruby-identifier">create_link</span> <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">config</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- link_file-source -->
          
        </div>

        

        
      </div><!-- link_file-method -->

    
      <div id="method-i-prepend_file" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">prepend_file</span><span
            class="method-args">(path, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Actions.html#method-i-prepend_to_file">prepend_to_file</a>
        </div>
        
      </div><!-- prepend_file-method -->

    
      <div id="method-i-prepend_to_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">prepend_to_file</span><span
            class="method-args">(path, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Prepend text to a file. Since it depends on <a
href="Actions.html#method-i-insert_into_file">#insert_into_file</a>, it’s
reversible.</p>

<h4 id="method-i-prepend_to_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>data&lt;String&gt;
<dd>
<p>the data to prepend to the file, can be also given as a block.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-prepend_to_file-label-Example">Example</h4>

<pre>prepend_to_file 'config/environments/test.rb', 'config.gem &quot;rspec&quot;'

prepend_to_file 'config/environments/test.rb' do
  'config.gem &quot;rspec&quot;'
end</pre>
          

          
          <div class="method-source-code" id="prepend_to_file-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/file_manipulation.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">prepend_to_file</span>(<span class="ruby-identifier">path</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r\A/</span>)
  <span class="ruby-identifier">insert_into_file</span>(<span class="ruby-identifier">path</span>, *(<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">config</span>), &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- prepend_to_file-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Actions.html#method-i-prepend_file">prepend_file</a>
        </div>
        

        
      </div><!-- prepend_to_file-method -->

    
      <div id="method-i-relative_to_original_destination_root" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">relative_to_original_destination_root</span><span
            class="method-args">(path, remove_dot=true)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the given path relative to the absolute root (ie, root where the
script started).</p>
          

          
          <div class="method-source-code" id="relative_to_original_destination_root-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">remove_dot</span>=<span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-ivar">@destination_stack</span>[<span class="ruby-value">0</span>], <span class="ruby-string">'.'</span>)
  <span class="ruby-identifier">remove_dot</span> <span class="ruby-operator">?</span> (<span class="ruby-identifier">path</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] <span class="ruby-operator">||</span> <span class="ruby-string">''</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">path</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- relative_to_original_destination_root-source -->
          
        </div>

        

        
      </div><!-- relative_to_original_destination_root-method -->

    
      <div id="method-i-remove_dir" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">remove_dir</span><span
            class="method-args">(path, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Actions.html#method-i-remove_file">remove_file</a>
        </div>
        
      </div><!-- remove_dir-method -->

    
      <div id="method-i-remove_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_file</span><span
            class="method-args">(path, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Removes a file at the given location.</p>

<h4 id="method-i-remove_file-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>path&lt;String&gt;
<dd>
<p>path of the file to be changed</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-remove_file-label-Example">Example</h4>

<pre>remove_file 'README'
remove_file 'app/controllers/application_controller.rb'</pre>
          

          
          <div class="method-source-code" id="remove_file-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/file_manipulation.rb, line 243</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">config</span>={})
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-value">:invoke</span>
  <span class="ruby-identifier">path</span>  = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">destination_root</span>)

  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:remove</span>, <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">path</span>), <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-operator">::</span><span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">path</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-value">:pretend</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">path</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_file-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Actions.html#method-i-remove_dir">remove_dir</a>
        </div>
        

        
      </div><!-- remove_file-method -->

    
      <div id="method-i-run" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">run</span><span
            class="method-args">(command, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Executes a command returning the contents of the command.</p>

<h4 id="method-i-run-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>command&lt;String&gt;
<dd>
<p>the command to be executed.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status, :capture =&gt; true to
hide to output. Specify :with to append an executable to command
executation.</p>
</dd></dl>

<h4 id="method-i-run-label-Example">Example</h4>

<pre>inside('vendor') do
  run('ln -s ~/edge rails')
end</pre>
          

          
          <div class="method-source-code" id="run-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 234</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">run</span>(<span class="ruby-identifier">command</span>, <span class="ruby-identifier">config</span>={})
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-value">:invoke</span>

  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">relative_to_original_destination_root</span>(<span class="ruby-identifier">destination_root</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">desc</span> = <span class="ruby-node">&quot;#{command} from #{destination.inspect}&quot;</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">config</span>[<span class="ruby-value">:with</span>]
    <span class="ruby-identifier">desc</span> = <span class="ruby-node">&quot;#{File.basename(config[:with].to_s)} #{desc}&quot;</span>
    <span class="ruby-identifier">command</span> = <span class="ruby-node">&quot;#{config[:with]} #{command}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">say_status</span> <span class="ruby-value">:run</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:verbose</span>, <span class="ruby-keyword">true</span>)

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:pretend</span>]
    <span class="ruby-identifier">config</span>[<span class="ruby-value">:capture</span>] <span class="ruby-operator">?</span> <span class="ruby-node">%x#{command}`</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">system</span>(<span class="ruby-node">&quot;#{command}&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- run-source -->
          
        </div>

        

        
      </div><!-- run-method -->

    
      <div id="method-i-run_ruby_script" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">run_ruby_script</span><span
            class="method-args">(command, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Executes a ruby script (taking into account WIN32 platform quirks).</p>

<h4 id="method-i-run_ruby_script-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>command&lt;String&gt;
<dd>
<p>the command to be executed.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>
          

          
          <div class="method-source-code" id="run_ruby_script-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 258</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">run_ruby_script</span>(<span class="ruby-identifier">command</span>, <span class="ruby-identifier">config</span>={})
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-value">:invoke</span>
  <span class="ruby-identifier">run</span> <span class="ruby-identifier">command</span>, <span class="ruby-identifier">config</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:with</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">ruby_command</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- run_ruby_script-source -->
          
        </div>

        

        
      </div><!-- run_ruby_script-method -->

    
      <div id="method-i-source_paths" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">source_paths</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Holds source paths in instance so they can be manipulated.</p>
          

          
          <div class="method-source-code" id="source_paths-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 123</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">source_paths</span>
  <span class="ruby-ivar">@source_paths</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">source_paths_for_search</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- source_paths-source -->
          
        </div>

        

        
      </div><!-- source_paths-method -->

    
      <div id="method-i-template" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">template</span><span
            class="method-args">(source, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Gets an ERB template at the relative source, executes it and makes a copy
at the relative destination. If the destination is not given it’s assumed
to be equal to the source removing .tt from the filename.</p>

<h4 id="method-i-template-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>source&lt;String&gt;
<dd>
<p>the relative path to the source root.</p>
</dd><dt>destination&lt;String&gt;
<dd>
<p>the relative path to the destination root.</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status.</p>
</dd></dl>

<h4 id="method-i-template-label-Examples">Examples</h4>

<pre>template &quot;README&quot;, &quot;doc/README&quot;

template &quot;doc/README&quot;</pre>
          

          
          <div class="method-source-code" id="template-source">
            <pre><span class="ruby-comment"># File lib/thor/actions/file_manipulation.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">template</span>(<span class="ruby-identifier">source</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">source</span>

  <span class="ruby-identifier">source</span>  = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">source</span>.<span class="ruby-identifier">to_s</span>))
  <span class="ruby-identifier">context</span> = <span class="ruby-identifier">instance_eval</span>(<span class="ruby-string">'binding'</span>)

  <span class="ruby-identifier">create_file</span> <span class="ruby-identifier">destination</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">config</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">content</span> = <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">::</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">binread</span>(<span class="ruby-identifier">source</span>), <span class="ruby-keyword">nil</span>, <span class="ruby-string">'-'</span>, <span class="ruby-string">'@output_buffer'</span>).<span class="ruby-identifier">result</span>(<span class="ruby-identifier">context</span>)
    <span class="ruby-identifier">content</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">content</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
    <span class="ruby-identifier">content</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- template-source -->
          
        </div>

        

        
      </div><!-- template-method -->

    
      <div id="method-i-thor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">thor</span><span
            class="method-args">(task, *args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Run a thor command. A hash of options can be given and it’s converted to
switches.</p>

<h4 id="method-i-thor-label-Parameters">Parameters</h4>
<dl class="rdoc-list note-list"><dt>task&lt;String&gt;
<dd>
<p>the task to be invoked</p>
</dd><dt>args&lt;Array&gt;
<dd>
<p>arguments to the task</p>
</dd><dt>config&lt;Hash&gt;
<dd>
<p>give :verbose =&gt; false to not log the status, :capture =&gt; true to
hide to output. Other options are given as parameter to <a
href="../Thor.html">Thor</a>.</p>
</dd></dl>

<h4 id="method-i-thor-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">thor</span> :<span class="ruby-identifier">install</span>, <span class="ruby-string">&quot;http://gist.github.com/103208&quot;</span>
<span class="ruby-comment">#=&gt; thor install http://gist.github.com/103208</span>

<span class="ruby-identifier">thor</span> :<span class="ruby-identifier">list</span>, :<span class="ruby-identifier">all</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, :<span class="ruby-identifier">substring</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'rails'</span>
<span class="ruby-comment">#=&gt; thor list --all --substring=rails</span>
</pre>
          

          
          <div class="method-source-code" id="thor-source">
            <pre><span class="ruby-comment"># File lib/thor/actions.rb, line 281</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">thor</span>(<span class="ruby-identifier">task</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">config</span>  = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">verbose</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:verbose</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:verbose</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">pretend</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:pretend</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:pretend</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">capture</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:capture</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:capture</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">task</span>
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Options</span>.<span class="ruby-identifier">to_switches</span>(<span class="ruby-identifier">config</span>)
  <span class="ruby-identifier">command</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">' '</span>).<span class="ruby-identifier">strip</span>

  <span class="ruby-identifier">run</span> <span class="ruby-identifier">command</span>, <span class="ruby-value">:with</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:thor</span>, <span class="ruby-value">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">verbose</span>, <span class="ruby-value">:pretend</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">pretend</span>, <span class="ruby-value">:capture</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">capture</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- thor-source -->
          
        </div>

        

        
      </div><!-- thor-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

