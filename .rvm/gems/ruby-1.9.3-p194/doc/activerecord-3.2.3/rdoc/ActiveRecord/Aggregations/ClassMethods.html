<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module ActiveRecord::Aggregations::ClassMethods - activerecord-3.2.3 Documentation</title>

<link type="text/css" media="screen" href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../index.html">Home</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/active_record/aggregations.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-composed_of">#composed_of</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../../README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../../ActiveRecord.html">ActiveRecord</a>
  
    <li><a href="../../ActiveRecord/ActiveRecordError.html">ActiveRecord::ActiveRecordError</a>
  
    <li><a href="../../ActiveRecord/AdapterNotFound.html">ActiveRecord::AdapterNotFound</a>
  
    <li><a href="../../ActiveRecord/AdapterNotSpecified.html">ActiveRecord::AdapterNotSpecified</a>
  
    <li><a href="../../ActiveRecord/Aggregations.html">ActiveRecord::Aggregations</a>
  
    <li><a href="../../ActiveRecord/Aggregations/ClassMethods.html">ActiveRecord::Aggregations::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/AssociationTypeMismatch.html">ActiveRecord::AssociationTypeMismatch</a>
  
    <li><a href="../../ActiveRecord/Associations.html">ActiveRecord::Associations</a>
  
    <li><a href="../../ActiveRecord/Associations/ClassMethods.html">ActiveRecord::Associations::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/AttributeAssignment.html">ActiveRecord::AttributeAssignment</a>
  
    <li><a href="../../ActiveRecord/AttributeAssignment/ClassMethods.html">ActiveRecord::AttributeAssignment::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/AttributeAssignmentError.html">ActiveRecord::AttributeAssignmentError</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods.html">ActiveRecord::AttributeMethods</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/BeforeTypeCast.html">ActiveRecord::AttributeMethods::BeforeTypeCast</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/ClassMethods.html">ActiveRecord::AttributeMethods::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/DeprecatedUnderscoreRead.html">ActiveRecord::AttributeMethods::DeprecatedUnderscoreRead</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/DeprecatedUnderscoreRead/ClassMethods.html">ActiveRecord::AttributeMethods::DeprecatedUnderscoreRead::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/Dirty.html">ActiveRecord::AttributeMethods::Dirty</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/PrimaryKey.html">ActiveRecord::AttributeMethods::PrimaryKey</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/PrimaryKey/ClassMethods.html">ActiveRecord::AttributeMethods::PrimaryKey::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/Query.html">ActiveRecord::AttributeMethods::Query</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/Read.html">ActiveRecord::AttributeMethods::Read</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/Read/ClassMethods.html">ActiveRecord::AttributeMethods::Read::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/Serialization.html">ActiveRecord::AttributeMethods::Serialization</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/Serialization/Attribute.html">ActiveRecord::AttributeMethods::Serialization::Attribute</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/Serialization/ClassMethods.html">ActiveRecord::AttributeMethods::Serialization::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/TimeZoneConversion.html">ActiveRecord::AttributeMethods::TimeZoneConversion</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/TimeZoneConversion/ClassMethods.html">ActiveRecord::AttributeMethods::TimeZoneConversion::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/Write.html">ActiveRecord::AttributeMethods::Write</a>
  
    <li><a href="../../ActiveRecord/AttributeMethods/Write/ClassMethods.html">ActiveRecord::AttributeMethods::Write::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/AutosaveAssociation.html">ActiveRecord::AutosaveAssociation</a>
  
    <li><a href="../../ActiveRecord/AutosaveAssociation/ClassMethods.html">ActiveRecord::AutosaveAssociation::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/Base.html">ActiveRecord::Base</a>
  
    <li><a href="../../ActiveRecord/Batches.html">ActiveRecord::Batches</a>
  
    <li><a href="../../ActiveRecord/Calculations.html">ActiveRecord::Calculations</a>
  
    <li><a href="../../ActiveRecord/Callbacks.html">ActiveRecord::Callbacks</a>
  
    <li><a href="../../ActiveRecord/ConfigurationError.html">ActiveRecord::ConfigurationError</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/AbstractAdapter.html">ActiveRecord::ConnectionAdapters::AbstractAdapter</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/AbstractMysqlAdapter.html">ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/ConnectionHandler.html">ActiveRecord::ConnectionAdapters::ConnectionHandler</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/ConnectionManagement.html">ActiveRecord::ConnectionAdapters::ConnectionManagement</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/ConnectionPool.html">ActiveRecord::ConnectionAdapters::ConnectionPool</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/DatabaseLimits.html">ActiveRecord::ConnectionAdapters::DatabaseLimits</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/DatabaseStatements.html">ActiveRecord::ConnectionAdapters::DatabaseStatements</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/Mysql2Adapter.html">ActiveRecord::ConnectionAdapters::Mysql2Adapter</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/MysqlAdapter.html">ActiveRecord::ConnectionAdapters::MysqlAdapter</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/MysqlAdapter/StatementPool.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::StatementPool</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/StatementPool.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::StatementPool</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/TableDefinition.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::TableDefinition</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/Utils.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::Utils</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/PostgreSQLColumn.html">ActiveRecord::ConnectionAdapters::PostgreSQLColumn</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/QueryCache.html">ActiveRecord::ConnectionAdapters::QueryCache</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/Quoting.html">ActiveRecord::ConnectionAdapters::Quoting</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/SQLiteAdapter.html">ActiveRecord::ConnectionAdapters::SQLiteAdapter</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/SQLiteAdapter/ExplainPrettyPrinter.html">ActiveRecord::ConnectionAdapters::SQLiteAdapter::ExplainPrettyPrinter</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/SQLiteAdapter/StatementPool.html">ActiveRecord::ConnectionAdapters::SQLiteAdapter::StatementPool</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/SQLiteAdapter/Version.html">ActiveRecord::ConnectionAdapters::SQLiteAdapter::Version</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/SchemaCache.html">ActiveRecord::ConnectionAdapters::SchemaCache</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/SchemaStatements.html">ActiveRecord::ConnectionAdapters::SchemaStatements</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/StatementPool.html">ActiveRecord::ConnectionAdapters::StatementPool</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/Table.html">ActiveRecord::ConnectionAdapters::Table</a>
  
    <li><a href="../../ActiveRecord/ConnectionAdapters/TableDefinition.html">ActiveRecord::ConnectionAdapters::TableDefinition</a>
  
    <li><a href="../../ActiveRecord/ConnectionNotEstablished.html">ActiveRecord::ConnectionNotEstablished</a>
  
    <li><a href="../../ActiveRecord/ConnectionTimeoutError.html">ActiveRecord::ConnectionTimeoutError</a>
  
    <li><a href="../../ActiveRecord/CounterCache.html">ActiveRecord::CounterCache</a>
  
    <li><a href="../../ActiveRecord/DangerousAttributeError.html">ActiveRecord::DangerousAttributeError</a>
  
    <li><a href="../../ActiveRecord/Delegation.html">ActiveRecord::Delegation</a>
  
    <li><a href="../../ActiveRecord/DynamicFinderMatch.html">ActiveRecord::DynamicFinderMatch</a>
  
    <li><a href="../../ActiveRecord/DynamicMatchers.html">ActiveRecord::DynamicMatchers</a>
  
    <li><a href="../../ActiveRecord/DynamicScopeMatch.html">ActiveRecord::DynamicScopeMatch</a>
  
    <li><a href="../../ActiveRecord/Explain.html">ActiveRecord::Explain</a>
  
    <li><a href="../../ActiveRecord/FinderMethods.html">ActiveRecord::FinderMethods</a>
  
    <li><a href="../../ActiveRecord/Fixtures.html">ActiveRecord::Fixtures</a>
  
    <li><a href="../../ActiveRecord/Fixtures/File.html">ActiveRecord::Fixtures::File</a>
  
    <li><a href="../../ActiveRecord/Generators.html">ActiveRecord::Generators</a>
  
    <li><a href="../../ActiveRecord/Generators/Migration.html">ActiveRecord::Generators::Migration</a>
  
    <li><a href="../../ActiveRecord/Generators/MigrationGenerator.html">ActiveRecord::Generators::MigrationGenerator</a>
  
    <li><a href="../../ActiveRecord/Generators/ModelGenerator.html">ActiveRecord::Generators::ModelGenerator</a>
  
    <li><a href="../../ActiveRecord/Generators/ObserverGenerator.html">ActiveRecord::Generators::ObserverGenerator</a>
  
    <li><a href="../../ActiveRecord/Generators/SessionMigrationGenerator.html">ActiveRecord::Generators::SessionMigrationGenerator</a>
  
    <li><a href="../../ActiveRecord/IdentityMap.html">ActiveRecord::IdentityMap</a>
  
    <li><a href="../../ActiveRecord/IdentityMap/Middleware.html">ActiveRecord::IdentityMap::Middleware</a>
  
    <li><a href="../../ActiveRecord/Inheritance.html">ActiveRecord::Inheritance</a>
  
    <li><a href="../../ActiveRecord/Inheritance/ClassMethods.html">ActiveRecord::Inheritance::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/Integration.html">ActiveRecord::Integration</a>
  
    <li><a href="../../ActiveRecord/InvalidForeignKey.html">ActiveRecord::InvalidForeignKey</a>
  
    <li><a href="../../ActiveRecord/IrreversibleMigration.html">ActiveRecord::IrreversibleMigration</a>
  
    <li><a href="../../ActiveRecord/Locking.html">ActiveRecord::Locking</a>
  
    <li><a href="../../ActiveRecord/Locking/Optimistic.html">ActiveRecord::Locking::Optimistic</a>
  
    <li><a href="../../ActiveRecord/Locking/Optimistic/ClassMethods.html">ActiveRecord::Locking::Optimistic::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/Locking/Pessimistic.html">ActiveRecord::Locking::Pessimistic</a>
  
    <li><a href="../../ActiveRecord/LogSubscriber.html">ActiveRecord::LogSubscriber</a>
  
    <li><a href="../../ActiveRecord/Migration.html">ActiveRecord::Migration</a>
  
    <li><a href="../../ActiveRecord/Migration/CommandRecorder.html">ActiveRecord::Migration::CommandRecorder</a>
  
    <li><a href="../../ActiveRecord/MigrationProxy.html">ActiveRecord::MigrationProxy</a>
  
    <li><a href="../../ActiveRecord/ModelSchema.html">ActiveRecord::ModelSchema</a>
  
    <li><a href="../../ActiveRecord/ModelSchema/ClassMethods.html">ActiveRecord::ModelSchema::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/MultiparameterAssignmentErrors.html">ActiveRecord::MultiparameterAssignmentErrors</a>
  
    <li><a href="../../ActiveRecord/NestedAttributes.html">ActiveRecord::NestedAttributes</a>
  
    <li><a href="../../ActiveRecord/NestedAttributes/ClassMethods.html">ActiveRecord::NestedAttributes::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/NestedAttributes/TooManyRecords.html">ActiveRecord::NestedAttributes::TooManyRecords</a>
  
    <li><a href="../../ActiveRecord/Observer.html">ActiveRecord::Observer</a>
  
    <li><a href="../../ActiveRecord/Persistence.html">ActiveRecord::Persistence</a>
  
    <li><a href="../../ActiveRecord/Persistence/ClassMethods.html">ActiveRecord::Persistence::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/PreparedStatementInvalid.html">ActiveRecord::PreparedStatementInvalid</a>
  
    <li><a href="../../ActiveRecord/QueryCache.html">ActiveRecord::QueryCache</a>
  
    <li><a href="../../ActiveRecord/QueryCache/ClassMethods.html">ActiveRecord::QueryCache::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/QueryMethods.html">ActiveRecord::QueryMethods</a>
  
    <li><a href="../../ActiveRecord/Querying.html">ActiveRecord::Querying</a>
  
    <li><a href="../../ActiveRecord/Railtie.html">ActiveRecord::Railtie</a>
  
    <li><a href="../../ActiveRecord/Railties.html">ActiveRecord::Railties</a>
  
    <li><a href="../../ActiveRecord/Railties/ControllerRuntime.html">ActiveRecord::Railties::ControllerRuntime</a>
  
    <li><a href="../../ActiveRecord/Railties/ControllerRuntime/ClassMethods.html">ActiveRecord::Railties::ControllerRuntime::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/ReadOnlyRecord.html">ActiveRecord::ReadOnlyRecord</a>
  
    <li><a href="../../ActiveRecord/ReadonlyAttributes.html">ActiveRecord::ReadonlyAttributes</a>
  
    <li><a href="../../ActiveRecord/ReadonlyAttributes/ClassMethods.html">ActiveRecord::ReadonlyAttributes::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/RecordInvalid.html">ActiveRecord::RecordInvalid</a>
  
    <li><a href="../../ActiveRecord/RecordNotFound.html">ActiveRecord::RecordNotFound</a>
  
    <li><a href="../../ActiveRecord/RecordNotSaved.html">ActiveRecord::RecordNotSaved</a>
  
    <li><a href="../../ActiveRecord/RecordNotUnique.html">ActiveRecord::RecordNotUnique</a>
  
    <li><a href="../../ActiveRecord/Reflection.html">ActiveRecord::Reflection</a>
  
    <li><a href="../../ActiveRecord/Reflection/ClassMethods.html">ActiveRecord::Reflection::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/Reflection/MacroReflection.html">ActiveRecord::Reflection::MacroReflection</a>
  
    <li><a href="../../ActiveRecord/Relation.html">ActiveRecord::Relation</a>
  
    <li><a href="../../ActiveRecord/Result.html">ActiveRecord::Result</a>
  
    <li><a href="../../ActiveRecord/Rollback.html">ActiveRecord::Rollback</a>
  
    <li><a href="../../ActiveRecord/Sanitization.html">ActiveRecord::Sanitization</a>
  
    <li><a href="../../ActiveRecord/Sanitization/ClassMethods.html">ActiveRecord::Sanitization::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/Schema.html">ActiveRecord::Schema</a>
  
    <li><a href="../../ActiveRecord/Scoping.html">ActiveRecord::Scoping</a>
  
    <li><a href="../../ActiveRecord/Scoping/ClassMethods.html">ActiveRecord::Scoping::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/Scoping/Default.html">ActiveRecord::Scoping::Default</a>
  
    <li><a href="../../ActiveRecord/Scoping/Default/ClassMethods.html">ActiveRecord::Scoping::Default::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/Scoping/Named.html">ActiveRecord::Scoping::Named</a>
  
    <li><a href="../../ActiveRecord/Scoping/Named/ClassMethods.html">ActiveRecord::Scoping::Named::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/Serialization.html">ActiveRecord::Serialization</a>
  
    <li><a href="../../ActiveRecord/SerializationTypeMismatch.html">ActiveRecord::SerializationTypeMismatch</a>
  
    <li><a href="../../ActiveRecord/SessionStore.html">ActiveRecord::SessionStore</a>
  
    <li><a href="../../ActiveRecord/SessionStore/Session.html">ActiveRecord::SessionStore::Session</a>
  
    <li><a href="../../ActiveRecord/SessionStore/SqlBypass.html">ActiveRecord::SessionStore::SqlBypass</a>
  
    <li><a href="../../ActiveRecord/SpawnMethods.html">ActiveRecord::SpawnMethods</a>
  
    <li><a href="../../ActiveRecord/StaleObjectError.html">ActiveRecord::StaleObjectError</a>
  
    <li><a href="../../ActiveRecord/StatementInvalid.html">ActiveRecord::StatementInvalid</a>
  
    <li><a href="../../ActiveRecord/Store.html">ActiveRecord::Store</a>
  
    <li><a href="../../ActiveRecord/Store/ClassMethods.html">ActiveRecord::Store::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/TestFixtures.html">ActiveRecord::TestFixtures</a>
  
    <li><a href="../../ActiveRecord/TestFixtures/ClassMethods.html">ActiveRecord::TestFixtures::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/ThrowResult.html">ActiveRecord::ThrowResult</a>
  
    <li><a href="../../ActiveRecord/Timestamp.html">ActiveRecord::Timestamp</a>
  
    <li><a href="../../ActiveRecord/Transactions.html">ActiveRecord::Transactions</a>
  
    <li><a href="../../ActiveRecord/Transactions/ClassMethods.html">ActiveRecord::Transactions::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/Translation.html">ActiveRecord::Translation</a>
  
    <li><a href="../../ActiveRecord/UnknownAttributeError.html">ActiveRecord::UnknownAttributeError</a>
  
    <li><a href="../../ActiveRecord/UnknownPrimaryKey.html">ActiveRecord::UnknownPrimaryKey</a>
  
    <li><a href="../../ActiveRecord/Validations.html">ActiveRecord::Validations</a>
  
    <li><a href="../../ActiveRecord/Validations/AssociatedValidator.html">ActiveRecord::Validations::AssociatedValidator</a>
  
    <li><a href="../../ActiveRecord/Validations/ClassMethods.html">ActiveRecord::Validations::ClassMethods</a>
  
    <li><a href="../../ActiveRecord/Validations/UniquenessValidator.html">ActiveRecord::Validations::UniquenessValidator</a>
  
    <li><a href="../../ActiveRecord/WrappedDatabaseException.html">ActiveRecord::WrappedDatabaseException</a>
  
    <li><a href="../../Mysql.html">Mysql</a>
  
    <li><a href="../../Mysql/Result.html">Mysql::Result</a>
  
    <li><a href="../../Mysql/Stmt.html">Mysql::Stmt</a>
  
    <li><a href="../../Mysql/Time.html">Mysql::Time</a>
  
    <li><a href="../../ArJdbcMySQL.html">ArJdbcMySQL</a>
  
    <li><a href="../../ArJdbcMySQL/Error.html">ArJdbcMySQL::Error</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module ActiveRecord::Aggregations::ClassMethods</h1>

  <div id="description" class="description">
    
<p>Active Record implements aggregation through a macro-like class method
called <code>composed_of</code> for representing attributes  as value
objects. It expresses relationships like “Account [is] composed of Money
[among other things]” or “Person [is] composed of [an] address”. Each call
to the macro adds a description of how the value objects  are created from
the attributes of the entity object (when the entity is initialized either 
as a new object or from finding an existing object) and how it can be
turned back into attributes  (when the entity is saved to the database).</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Customer</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">composed_of</span> :<span class="ruby-identifier">balance</span>, :<span class="ruby-identifier">class_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Money&quot;</span>, :<span class="ruby-identifier">mapping</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(balance amount)</span>
  <span class="ruby-identifier">composed_of</span> :<span class="ruby-identifier">address</span>, :<span class="ruby-identifier">mapping</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-node">%w(address_street street)</span>, <span class="ruby-node">%w(address_city city)</span> ]
<span class="ruby-keyword">end</span>
</pre>

<p>The customer class now has the following methods to manipulate the value
objects:</p>
<ul><li>
<p><code>Customer#balance, Customer#balance=(money)</code></p>
</li><li>
<p><code>Customer#address, Customer#address=(address)</code></p>
</li></ul>

<p>These methods will operate with value objects like the ones described
below:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Money</span>
  <span class="ruby-identifier">include</span> <span class="ruby-constant">Comparable</span>
  <span class="ruby-identifier">attr_reader</span> :<span class="ruby-identifier">amount</span>, :<span class="ruby-identifier">currency</span>
  <span class="ruby-constant">EXCHANGE_RATES</span> = { <span class="ruby-string">&quot;USD_TO_DKK&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span> }

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">amount</span>, <span class="ruby-identifier">currency</span> = <span class="ruby-string">&quot;USD&quot;</span>)
    <span class="ruby-ivar">@amount</span>, <span class="ruby-ivar">@currency</span> = <span class="ruby-identifier">amount</span>, <span class="ruby-identifier">currency</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">exchange_to</span>(<span class="ruby-identifier">other_currency</span>)
    <span class="ruby-identifier">exchanged_amount</span> = (<span class="ruby-identifier">amount</span> * <span class="ruby-constant">EXCHANGE_RATES</span>[<span class="ruby-node">&quot;#{currency}_TO_#{other_currency}&quot;</span>]).<span class="ruby-identifier">floor</span>
    <span class="ruby-constant">Money</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">exchanged_amount</span>, <span class="ruby-identifier">other_currency</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other_money</span>)
    <span class="ruby-identifier">amount</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other_money</span>.<span class="ruby-identifier">amount</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">currency</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other_money</span>.<span class="ruby-identifier">currency</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;=&gt;</span>(<span class="ruby-identifier">other_money</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">currency</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other_money</span>.<span class="ruby-identifier">currency</span>
      <span class="ruby-identifier">amount</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other_money</span>.<span class="ruby-identifier">amount</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">amount</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other_money</span>.<span class="ruby-identifier">exchange_to</span>(<span class="ruby-identifier">currency</span>).<span class="ruby-identifier">amount</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">Address</span>
  <span class="ruby-identifier">attr_reader</span> :<span class="ruby-identifier">street</span>, :<span class="ruby-identifier">city</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">street</span>, <span class="ruby-identifier">city</span>)
    <span class="ruby-ivar">@street</span>, <span class="ruby-ivar">@city</span> = <span class="ruby-identifier">street</span>, <span class="ruby-identifier">city</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">close_to?</span>(<span class="ruby-identifier">other_address</span>)
    <span class="ruby-identifier">city</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other_address</span>.<span class="ruby-identifier">city</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other_address</span>)
    <span class="ruby-identifier">city</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other_address</span>.<span class="ruby-identifier">city</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">street</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other_address</span>.<span class="ruby-identifier">street</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Now it’s possible to access attributes from the database through the value
objects instead. If you choose to name the composition the same as the
attribute’s name, it will be the only way to access that attribute. That’s
the case with our <code>balance</code> attribute. You interact with the
value objects just like you would any other attribute, though:</p>

<pre class="ruby"><span class="ruby-identifier">customer</span>.<span class="ruby-identifier">balance</span> = <span class="ruby-constant">Money</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">20</span>)     <span class="ruby-comment"># sets the Money value object and the attribute</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">balance</span>                     <span class="ruby-comment"># =&gt; Money value object</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">balance</span>.<span class="ruby-identifier">exchange_to</span>(<span class="ruby-string">&quot;DKK&quot;</span>)  <span class="ruby-comment"># =&gt; Money.new(120, &quot;DKK&quot;)</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">balance</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">Money</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">10</span>)     <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">balance</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Money</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">20</span>)    <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">balance</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Money</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">5</span>)      <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Value objects can also be composed of multiple attributes, such as the case
of Address. The order of the mappings will determine the order of the
parameters.</p>

<pre class="ruby"><span class="ruby-identifier">customer</span>.<span class="ruby-identifier">address_street</span> = <span class="ruby-string">&quot;Hyancintvej&quot;</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">address_city</span>   = <span class="ruby-string">&quot;Copenhagen&quot;</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">address</span>        <span class="ruby-comment"># =&gt; Address.new(&quot;Hyancintvej&quot;, &quot;Copenhagen&quot;)</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">address</span> = <span class="ruby-constant">Address</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;May Street&quot;</span>, <span class="ruby-string">&quot;Chicago&quot;</span>)
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">address_street</span> <span class="ruby-comment"># =&gt; &quot;May Street&quot;</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">address_city</span>   <span class="ruby-comment"># =&gt; &quot;Chicago&quot;</span>
</pre>

<h2 id="label-Writing+value+objects">Writing value objects</h2>

<p>Value objects are immutable and interchangeable objects that represent a
given value, such as a Money object representing $5. Two Money objects both
representing $5 should be equal (through methods such as <code>==</code>
and <code>&lt;=&gt;</code> from Comparable if ranking makes sense). This is
unlike entity objects where equality is determined by identity. An entity
class such as Customer can easily have two different objects that both have
an address on Hyancintvej. Entity identity is determined by object or
relational unique identifiers (such as primary keys). Normal <a
href="../Base.html">ActiveRecord::Base</a> classes are entity objects.</p>

<p>It’s also important to treat the value objects as immutable. Don’t allow
the Money object to have its amount changed after creation. Create a new
Money object with the new value instead. This is exemplified by the
Money#exchange_to method that returns a new value object instead of
changing its own values. Active Record won’t persist value objects that
have been changed through means other than the writer method.</p>

<p>The immutable requirement is enforced by Active Record by freezing any
object assigned as a value object. Attempting to change it afterwards will
result in a ActiveSupport::FrozenObjectError.</p>

<p>Read more about value objects on <a
href="http://c2.com/cgi/wiki?ValueObject">c2.com/cgi/wiki?ValueObject</a>
and on the dangers of not keeping value objects immutable on <a
href="http://c2.com/cgi/wiki?ValueObjectsShouldBeImmutable">c2.com/cgi/wiki?ValueObjectsShouldBeImmutable</a></p>

<h2 id="label-Custom+constructors+and+converters">Custom constructors and converters</h2>

<p>By default value objects are initialized by calling the <code>new</code>
constructor of the value class passing each of the mapped attributes, in
the order specified by the <code>:mapping</code> option, as arguments. If
the value class doesn’t support this convention then
<code>composed_of</code> allows a custom constructor to be specified.</p>

<p>When a new value is assigned to the value object the default assumption is
that the new value is an instance of the value class. Specifying a custom
converter allows the new value to be automatically converted to an instance
of value class if necessary.</p>

<p>For example, the NetworkResource model has <code>network_address</code> and
<code>cidr_range</code> attributes that should be aggregated using the
NetAddr::CIDR value class (<a
href="http://netaddr.rubyforge.org">netaddr.rubyforge.org</a>). The
constructor for the value class is called <code>create</code> and it
expects a CIDR address string as a parameter. New values can be assigned to
the value object using either another NetAddr::CIDR object, a string or an
array. The <code>:constructor</code> and <code>:converter</code> options
can be used to meet these requirements:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">NetworkResource</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">composed_of</span> :<span class="ruby-identifier">cidr</span>,
              :<span class="ruby-identifier">class_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'NetAddr::CIDR'</span>,
              :<span class="ruby-identifier">mapping</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-node">%w(network_address network)</span>, <span class="ruby-node">%w(cidr_range bits)</span> ],
              :<span class="ruby-identifier">allow_nil</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
              :<span class="ruby-identifier">constructor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">network_address</span>, <span class="ruby-identifier">cidr_range</span><span class="ruby-operator">|</span> <span class="ruby-constant">NetAddr</span><span class="ruby-operator">::</span><span class="ruby-constant">CIDR</span>.<span class="ruby-identifier">create</span>(<span class="ruby-node">&quot;#{network_address}/#{cidr_range}&quot;</span>) },
              :<span class="ruby-identifier">converter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-constant">NetAddr</span><span class="ruby-operator">::</span><span class="ruby-constant">CIDR</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">'/'</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>) }
<span class="ruby-keyword">end</span>

<span class="ruby-comment"># This calls the :constructor</span>
<span class="ruby-identifier">network_resource</span> = <span class="ruby-constant">NetworkResource</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">network_address</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'192.168.0.1'</span>, :<span class="ruby-identifier">cidr_range</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">24</span>)

<span class="ruby-comment"># These assignments will both use the :converter</span>
<span class="ruby-identifier">network_resource</span>.<span class="ruby-identifier">cidr</span> = [ <span class="ruby-string">'192.168.2.1'</span>, <span class="ruby-value">8</span> ]
<span class="ruby-identifier">network_resource</span>.<span class="ruby-identifier">cidr</span> = <span class="ruby-string">'192.168.0.1/24'</span>

<span class="ruby-comment"># This assignment won't use the :converter as the value is already an instance of the value class</span>
<span class="ruby-identifier">network_resource</span>.<span class="ruby-identifier">cidr</span> = <span class="ruby-constant">NetAddr</span><span class="ruby-operator">::</span><span class="ruby-constant">CIDR</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">'192.168.2.1/8'</span>)

<span class="ruby-comment"># Saving and then reloading will use the :constructor on reload</span>
<span class="ruby-identifier">network_resource</span>.<span class="ruby-identifier">save</span>
<span class="ruby-identifier">network_resource</span>.<span class="ruby-identifier">reload</span>
</pre>

<h2 id="label-Finding+records+by+a+value+object">Finding records by a value object</h2>

<p>Once a <code>composed_of</code> relationship is specified for a model,
records can be loaded from the database by specifying an instance of the
value object in the conditions hash. The following example finds all
customers with <code>balance_amount</code> equal to 20 and
<code>balance_currency</code> equal to “USD”:</p>

<pre class="ruby"><span class="ruby-constant">Customer</span>.<span class="ruby-identifier">where</span>(:<span class="ruby-identifier">balance</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Money</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">20</span>, <span class="ruby-string">&quot;USD&quot;</span>)).<span class="ruby-identifier">all</span>
</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-composed_of" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">composed_of</span><span
            class="method-args">(part_id, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Adds reader and writer methods for manipulating a value object:
<code>composed_of :address</code> adds <code>address</code> and
<code>address=(new_address)</code> methods.</p>

<p>Options are:</p>
<ul><li>
<p><code>:class_name</code> - Specifies the class name of the association. Use
it only if that name can't be inferred from the part id. So
<code>composed_of :address</code> will by default be linked to the Address
class, but if the real class name is CompanyAddress, you'll have to specify
it with this option.</p>
</li><li>
<p><code>:mapping</code> - Specifies the mapping of entity attributes to
attributes of the value object. Each mapping is represented as an array
where the first item is the name of the entity attribute and the second
item is the name of the attribute in the value object. The order in which
mappings are defined determines the order in which attributes are sent to
the value class constructor.</p>
</li><li>
<p><code>:allow_nil</code> - Specifies that the value object will not be
instantiated when all mapped attributes are <code>nil</code>. Setting the
value object to <code>nil</code> has the effect of writing <code>nil</code>
to all mapped attributes. This defaults to <code>false</code>.</p>
</li><li>
<p><code>:constructor</code> - A symbol specifying the name of the constructor
method or a Proc that is called to initialize the value object. The
constructor is passed all of the mapped attributes, in the order that they
are defined in the <code>:mapping option</code>, as arguments and uses them
to instantiate a <code>:class_name</code> object. The default is
<code>:new</code>.</p>
</li><li>
<p><code>:converter</code> - A symbol specifying the name of a class method of
<code>:class_name</code> or a Proc that is called when a new value is
assigned to the value object. The converter is passed the single value that
is used in the assignment and is only called if the new value is not an
instance of <code>:class_name</code>.</p>
</li></ul>

<p>Option examples:</p>

<pre class="ruby"><span class="ruby-identifier">composed_of</span> :<span class="ruby-identifier">temperature</span>, :<span class="ruby-identifier">mapping</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(reading celsius)</span>
<span class="ruby-identifier">composed_of</span> :<span class="ruby-identifier">balance</span>, :<span class="ruby-identifier">class_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Money&quot;</span>, :<span class="ruby-identifier">mapping</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(balance amount)</span>,
                      :<span class="ruby-identifier">converter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">balance</span><span class="ruby-operator">|</span> <span class="ruby-identifier">balance</span>.<span class="ruby-identifier">to_money</span> }
<span class="ruby-identifier">composed_of</span> :<span class="ruby-identifier">address</span>, :<span class="ruby-identifier">mapping</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-node">%w(address_street street)</span>, <span class="ruby-node">%w(address_city city)</span> ]
<span class="ruby-identifier">composed_of</span> :<span class="ruby-identifier">gps_location</span>
<span class="ruby-identifier">composed_of</span> :<span class="ruby-identifier">gps_location</span>, :<span class="ruby-identifier">allow_nil</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>
<span class="ruby-identifier">composed_of</span> :<span class="ruby-identifier">ip_address</span>,
            :<span class="ruby-identifier">class_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'IPAddr'</span>,
            :<span class="ruby-identifier">mapping</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(ip to_i)</span>,
            :<span class="ruby-identifier">constructor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">ip</span><span class="ruby-operator">|</span> <span class="ruby-constant">IPAddr</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ip</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">AF_INET</span>) },
            :<span class="ruby-identifier">converter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">ip</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ip</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">IPAddr</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ip</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">AF_INET</span>) <span class="ruby-operator">:</span> <span class="ruby-constant">IPAddr</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ip</span>.<span class="ruby-identifier">to_s</span>) }
</pre>
          

          
          <div class="method-source-code" id="composed_of-source">
            <pre><span class="ruby-comment"># File lib/active_record/aggregations.rb, line 205</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">composed_of</span>(<span class="ruby-identifier">part_id</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-value">:class_name</span>, <span class="ruby-value">:mapping</span>, <span class="ruby-value">:allow_nil</span>, <span class="ruby-value">:constructor</span>, <span class="ruby-value">:converter</span>)

  <span class="ruby-identifier">name</span>        = <span class="ruby-identifier">part_id</span>.<span class="ruby-identifier">id2name</span>
  <span class="ruby-identifier">class_name</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-value">:class_name</span>]  <span class="ruby-operator">||</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">camelize</span>
  <span class="ruby-identifier">mapping</span>     = <span class="ruby-identifier">options</span>[<span class="ruby-value">:mapping</span>]     <span class="ruby-operator">||</span> [ <span class="ruby-identifier">name</span>, <span class="ruby-identifier">name</span> ]
  <span class="ruby-identifier">mapping</span>     = [ <span class="ruby-identifier">mapping</span> ] <span class="ruby-keyword">unless</span> <span class="ruby-identifier">mapping</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
  <span class="ruby-identifier">allow_nil</span>   = <span class="ruby-identifier">options</span>[<span class="ruby-value">:allow_nil</span>]   <span class="ruby-operator">||</span> <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">constructor</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:constructor</span>] <span class="ruby-operator">||</span> <span class="ruby-value">:new</span>
  <span class="ruby-identifier">converter</span>   = <span class="ruby-identifier">options</span>[<span class="ruby-value">:converter</span>]

  <span class="ruby-identifier">reader_method</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">class_name</span>, <span class="ruby-identifier">mapping</span>, <span class="ruby-identifier">allow_nil</span>, <span class="ruby-identifier">constructor</span>)
  <span class="ruby-identifier">writer_method</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">class_name</span>, <span class="ruby-identifier">mapping</span>, <span class="ruby-identifier">allow_nil</span>, <span class="ruby-identifier">converter</span>)

  <span class="ruby-identifier">create_reflection</span>(<span class="ruby-value">:composed_of</span>, <span class="ruby-identifier">part_id</span>, <span class="ruby-identifier">options</span>, <span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- composed_of-source -->
          
        </div>

        

        
      </div><!-- composed_of-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

